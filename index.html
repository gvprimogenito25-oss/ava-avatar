<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>AVA - Avatar simples</title>
<style>
  body { font-family: sans-serif; display:flex; flex-direction:column; align-items:center; gap:12px; padding:20px; }
  .avatar { width:260px; height:320px; }
  .face { width:100%; height:100%; background: url('ava.png') center/cover no-repeat; border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,0.2); }
  .controls { display:flex; gap:8px; margin-top:12px; }
  input[type=text] { width:320px; padding:8px; border-radius:8px; border:1px solid #ccc; }
  button { padding:8px 12px; border-radius:8px; cursor:pointer; }
</style>
</head>
<body>
  <h2>AVA — Avatar simples</h2>
  <div class="avatar">
    <div class="face"></div>
  </div>

  <div class="controls">
    <input id="text" type="text" placeholder="Diga algo pra AVA... (ex: Oi, como vai?)">
    <button id="speakBtn">Falar</button>
  </div>

<script>
function falar(texto){
  if (!window.speechSynthesis) {
    alert('Seu navegador não suporta speechSynthesis.');
    return;
  }

  const utter = new SpeechSynthesisUtterance(texto);
  utter.lang = 'pt-BR';

  function escolherVoz(){
    const voices = window.speechSynthesis.getVoices();
    const vozFeminina = voices.find(v => v.name === "Google português do Brasil");
    if (vozFeminina) utter.voice = vozFeminina;
    window.speechSynthesis.cancel();
    window.speechSynthesis.speak(utter);
  }

  // se a lista já estiver carregada
  if (window.speechSynthesis.getVoices().length > 0){
    escolherVoz();
  } else {
    // espera a lista de vozes carregar
    window.speechSynthesis.onvoiceschanged = escolherVoz;
  }
}

document.getElementById('speakBtn').addEventListener('click', () => {
  const texto = document.getElementById('text').value.trim();
  if (texto) falar(texto);
});
</script>
</body>
</html>